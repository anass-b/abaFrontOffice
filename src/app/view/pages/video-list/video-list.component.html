<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <!-- 🔍 Search bar -->
    <input
      type="text"
      [(ngModel)]="searchTerm"
      class="form-control w-50"
      placeholder="🔍 Rechercher une vidéo..."
    />
    <button class="btn btn-success ms-3" (click)="onAdd()">➕ Ajouter une Vidéo</button>
  </div>

  <!-- Table of videos -->
  <div class="table-responsive shadow-sm">
    <table class="table table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th style="width: 120px;">Miniature</th>
          <th>Titre</th>
          <th>Description</th>
          <th>Durée</th>
          <th>Type</th>
          <th style="width: 150px;">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let video of getFilteredVideos()">
          <td>
            <img
              *ngIf="video.thumbnailUrl"
              [src]="video.thumbnailUrl"
              alt="Miniature"
              class="img-fluid rounded"
              style="width: 100px; height: 60px; object-fit: cover;"
            />
            <span *ngIf="!video.thumbnailUrl" class="text-muted fst-italic">Aucune</span>
          </td>
          <td class="fw-semibold">{{ video.title }}</td>
          <td>{{ video.description || '—' }}</td>
          <td>{{ video.duration }} min</td>
          <td>
            <span *ngIf="video.isPremium" class="badge bg-warning text-dark">Premium</span>
            <span *ngIf="!video.isPremium" class="badge bg-secondary">Gratuit</span>
          </td>
          <td>
            <button class="btn btn-sm btn-warning me-2" (click)="goToEditVideo(video)">✏️</button>

            <button class="btn btn-sm btn-danger" (click)="onDelete(video.id)">🗑️</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Aucun résultat -->
  <div *ngIf="getFilteredVideos().length === 0" class="text-center text-muted mt-3">
    Aucune vidéo trouvée.
  </div>
</div>
