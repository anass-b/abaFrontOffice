<div class="layout-container d-flex min-vh-100 flex-column flex-lg-row">
  <!-- Sidebar -->
  <aside
    class="bg-white border-end p-3 position-fixed h-100"
    [class.d-none]="!isSidebarVisible && isMobile()"
    [class.d-block]="isSidebarVisible || !isMobile()"
    [class.d-lg-block]="true"
    [style.width.px]="250"
    [style.zIndex]="1040">
    <app-menu></app-menu>
  </aside>

  <!-- Overlay (mobile only) -->
  <div
    *ngIf="isSidebarVisible && isMobile()"
    class="position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-25"
    (click)="toggleSidebar()"
    style="z-index: 1039;">
  </div>

  <!-- Main content -->
  <div
    class="flex-fill d-flex flex-column"
    [style.marginLeft.px]="isSidebarVisible || !isMobile() ? 250 : 0"
    style="transition: margin-left 0.3s;">
    
    <app-navbar (toggle)="toggleSidebar()"></app-navbar>

    <main class="flex-fill container-fluid px-3 py-4">
      <router-outlet></router-outlet>
    </main>

    <app-footer></app-footer>
  </div>
</div>
