<div class="layout-container d-flex min-vh-100 flex-column flex-lg-row">
  <!-- ADMIN LAYOUT -->
  <ng-container *ngIf="(auth.isAdmin$ | async); else clientLayout">
    <!-- Sidebar -->
    <aside
      class="admin-sidebar border-end"
      [class.d-none]="!isSidebarVisible && isMobile()"
      [class.d-block]="isSidebarVisible || !isMobile()"
      [class.d-lg-block]="true"
      [style.width.px]="250"
      aria-label="Sidebar de navigation"
      [attr.aria-hidden]="!isSidebarVisible && isMobile() ? 'true' : 'false'">
      <div class="menu p-3">
        <app-menu></app-menu>
      </div>
    </aside>

    <!-- Overlay (mobile only) -->
    <div
      *ngIf="isSidebarVisible && isMobile()"
      class="overlay d-lg-none"
      (click)="toggleSidebar()">
    </div>

    <!-- Main content -->
    <div class="admin-main flex-fill d-flex flex-column">
      <!-- Navbar admin : bouton hamburger + profil -->
      <app-navbar
        (toggle)="toggleSidebar()"
        [showToggle]="isMobile()"
        [showAdminProfileMenu]="true">
      </app-navbar>

      <main class="admin-page flex-fill">
        <router-outlet></router-outlet>
      </main>

      <app-footer></app-footer>
    </div>
  </ng-container>

  <!-- CLIENT LAYOUT (inchangÃ©) -->
  <ng-template #clientLayout>
    <div class="main-content flex-fill d-flex flex-column">
      <app-navbar [showToggle]="false" [showAdminProfileMenu]="false"></app-navbar>
      <main class="page-wrapper flex-fill container-fluid px-3 py-2">
        <router-outlet></router-outlet>
      </main>
      <app-footer></app-footer>
    </div>
  </ng-template>
</div>
